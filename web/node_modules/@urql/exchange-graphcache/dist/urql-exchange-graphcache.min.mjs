import{share as e,mergeMap as t,take as r,combine as n,scan as i,fromPromise as o,empty as a,concat as u,map as s,filter as l,merge as f,fromArray as c,makeSubject as d}from"wonka";import{stringifyVariables as p,createRequest as v,formatDocument as y,makeOperation as m}from"@urql/core";import{Kind as h}from"graphql/language/kinds.mjs";import{valueFromASTUntyped as k}from"graphql/utilities/valueFromASTUntyped.mjs";import{print as g}from"graphql/language/printer.mjs";import{_ as O}from"./08e6d3e1.min.mjs";function b(e){return e.name.value}function q(e){return e.selectionSet?e.selectionSet.selections:[]}function _(e,t){var r={},n=0;if(e.arguments&&e.arguments.length)for(var i=0,o=e.arguments.length;i<o;i++){var a=e.arguments[i],u=k(a.value,t);null!=u&&(r[b(a)]=u,n++)}return 0<n?r:null}function N(e,t){var r={};if(!t)return r;if(e.variableDefinitions)for(var n=0,i=e.variableDefinitions.length;n<i;n++){var o=e.variableDefinitions[n],a=b(o.variable);r[a]=void 0===t[a]&&o.defaultValue?k(o.defaultValue,t):t[a]}for(var u in t)u in r||(r[u]=t[u]);return r}function w(e,t,r){if(!e)throw(e=Error((t||"Minfied Error #"+r+"\n")+"\nhttps://bit.ly/2XbVrpR#"+r)).name="Graphcache Error",e}function E(e){for(var t=0;t<e.definitions.length;t++)if(e.definitions[t].kind===h.OPERATION_DEFINITION)return e.definitions[t];w(!1,"",1)}function K(e){for(var t={},r=0;r<e.definitions.length;r++){var n=e.definitions[r];n.kind===h.FRAGMENT_DEFINITION&&(t[b(n)]=n)}return t}function T(e,t){var r=e.directives;if(!r)return!0;for(var n=0,i=r.length;n<i;n++){var o=r[n];if(("include"===(e=b(o))||"skip"===e)&&o.arguments&&o.arguments[0]&&"if"===b(o.arguments[0]))return t=k(o.arguments[0].value,t),"include"===e?!!t:!t}return!0}function F(e){for(var t={},r=0;r<e.length;r++)t[e[r].name]=e[r];return t}new Set;var x=/^__/;function S(e,t,r){return!!x.test(r)||(A(e,t),!!(e=e.types[t].fields[r])&&"NON_NULL"!==e.type.kind)}function L(e,t,r){return A(e,t),!!(e=e.types[t].fields[r])&&"LIST"===(e="NON_NULL"===e.type.kind?e.type.ofType:e.type).kind&&"NON_NULL"!==e.ofType.kind}function A(e,t){w(e.types[t]&&"OBJECT"===e.types[t].kind,"",3)}function I(e,t){return t?e+"("+p(t)+")":e}function C(e){var t=e.indexOf("(");return-1<t?{fieldKey:e,fieldName:e.slice(0,t),arguments:JSON.parse(e.slice(t+1,-1))}:{fieldKey:e,fieldName:e,arguments:null}}function M(e,t){return e.replace(/\./g,"%2e")+"."+t}function D(e){var t=e.indexOf(".");return{entityKey:e.slice(0,t).replace(/%2e/g,"."),fieldKey:e=e.slice(t+1)}}function P(){return Object.create(null)}var R=null,j=null,J=null,B=null,U=!1;function G(e,t,r,n){R=e,j=t,J=P(),U=!!n,r?n||0<t.optimisticOrder.length?(n||t.commutativeKeys.has(r)?n&&t.commutativeKeys.delete(r):oe(t,r),B=r,-1===t.optimisticOrder.indexOf(r)&&t.optimisticOrder.unshift(r),t.refLock[r]||(t.refLock[r]=P(),t.links.optimistic[r]=new Map,t.records.optimistic[r]=new Map)):(B=null,ue(t,r)):B=null}function Q(){var e=j,t=B;if(U=!1,B=null,t&&-1<e.optimisticOrder.indexOf(t))for(t=e.optimisticOrder.length;0<=--t&&e.refLock[e.optimisticOrder[t]]&&e.commutativeKeys.has(e.optimisticOrder[t]);)fe(e.optimisticOrder[t]);J=j=R=null,e.defer||(e.defer=!0,Promise.resolve().then((function(){G("read",e,null),j.gc.forEach($),function(){if(j.storage){U=!0,R="read";var e=P();j.persist.forEach((function(t){var r,n=D(t),i=n.entityKey;e[t]=void 0!==(r=re(i,n=n.fieldKey))?":"+p(r):void 0!==(r=te(i,n))?p(r):void 0})),U=!1,j.storage.writeData(e),j.persist.clear()}}(),Q(),e.defer=!1})))}function V(){return w(null!==J,"",2),J}function z(e,t,r,n){var i=(e=B?e.optimistic[B]:e.base).get(t);void 0===i&&e.set(t,i=P()),void 0!==n||B?i[r]=n:delete i[r]}function X(e,t,r){for(var n,i=0,o=j.optimisticOrder.length;i<o;i++){var a=j.optimisticOrder[i],u=e.optimistic[a];if(u&&(!U||"write"===R||j.commutativeKeys.has(a))&&void 0!==(n=u.get(t))&&r in n)return n[r]}return void 0!==(n=e.base.get(t))?n[r]:void 0}function H(e,t,r,n){var i=void 0!==t[r]?t[r]:0;t=t[r]=i+n|0,void 0!==e&&(0>=t?e.add(r):0>=i&&0<t&&e.delete(r))}function W(e,t,r,n){if("string"==typeof r)H(e,t,r,n);else if(Array.isArray(r))for(var i=0,o=r.length;i<o;i++){var a=r[i];a&&H(e,t,a,n)}}function Y(e,t,r){if(void 0!==r)for(var n in r)t.has(n)||(e.push(C(n)),t.add(n))}function Z(e,t,r,n){Y(e,t,n.base.get(r));for(var i=0,o=j.optimisticOrder.length;i<o;i++){var a=n.optimistic[j.optimisticOrder[i]];void 0!==a&&Y(e,t,a.get(r))}}function $(e,t,r){if(0<(j.refCount[e]||0))r.delete(e);else{for(var n in j.refLock){if(0<((t=j.refLock[n])[e]||0))return;delete t[e]}if(delete j.refCount[e],r.delete(e),j.records.base.delete(e),n=j.links.base.get(e))for(var i in j.links.base.delete(e),n)W(r,j.refCount,n[i],-1)}}function ee(e,t){"__typename"!==t&&(e!==j.queryRootKey?J[e]=!0:void 0!==t&&(J[e+"."+t]=!0))}function te(e,t){return ee(e,t),X(j.records,e,t)}function re(e,t){return ee(e,t),X(j.links,e,t)}function ne(e,t,r){ee(e,t),!U&&j.storage&&j.persist.add(M(e,t)),z(j.records,e,t,r)}function ie(e,t,r){var n=j;if(B)var i=n.refLock[B]||(n.refLock[B]=P()),o=n.links.optimistic[B];else{i=n.refCount,o=n.links.base;var a=n.gc}o=(o=o&&o.get(e))&&o[t],ee(e,t),!U&&j.storage&&j.persist.add(M(e,t)),z(n.links,e,t,r),W(a,i,o,-1),W(a,i,r,1)}function oe(e,t){var r=e.optimisticOrder.indexOf(t);-1===r?e.optimisticOrder.unshift(t):e.commutativeKeys.has(t)||(ae(e,t),e.optimisticOrder.splice(r,1),e.optimisticOrder.unshift(t)),e.commutativeKeys.add(t)}function ae(e,t){e.refLock[t]&&(delete e.refLock[t],delete e.records.optimistic[t],delete e.links.optimistic[t])}function ue(e,t){var r=e.optimisticOrder.indexOf(t);-1<r&&(e.optimisticOrder.splice(r,1),e.commutativeKeys.delete(t)),ae(e,t)}function se(e,t){for(var r in e)ie(t,r,e[r])}function le(e,t){for(var r in e)ne(t,r,e[r])}function fe(e){var t=J;J=P();var r=j.links.optimistic[e];r&&r.forEach(se),(r=j.records.optimistic[e])&&r.forEach(le),J=t,ue(j,e)}function ce(e){var t=j.links,r=j.records,n=[],i=new Set;return ee(e),Z(n,i,e,t),Z(n,i,e,r),n}function de(e,t,r,n,i,o){return{store:e,variables:t,fragments:r,parentTypeName:n,parentKey:i,parentFieldKey:"",fieldName:"",partial:!1,optimistic:!!o}}function pe(e,t,r,n){if(!t)return!1;var i=e.typeCondition?b(e.typeCondition):null;return!i||t===i||!q(e).some((function(e){return e.kind===h.FIELD&&(e=I(b(e),_(e,n)),!(void 0!==te(r,e)||void 0!==re(r,e)))}))}function ve(e,t,r,n){var i,o=0;return function(){if(void 0!==i){var a=i();if(void 0!==a)return a;i=void 0}for(;o<r.length;)if(T(a=r[o++],n.variables)){if(a.kind===h.FIELD)return a;if(void 0!==(a=a.kind===h.INLINE_FRAGMENT?a:n.fragments[b(a)])){if(n.store.schema){var u=n.store.schema,s=e;if(s){var l=a.typeCondition?b(a.typeCondition):null;l&&s!==l?u.types[l]&&"OBJECT"===u.types[l].kind?u=l===s:(w(u.types[l]&&("INTERFACE"===u.types[l].kind||"UNION"===u.types[l].kind),"",5),A(u,s),u=u.isSubType(l,s)):u=!0}else u=!1}else u=pe(a,e,t,n.variables);if(u)return(i=ve(e,t,q(a),n))()}}}}function ye(e){return void 0===e?null:e}function me(e,t,r,n){return G("write",e.data,n||null),e=he(e,t,r),Q(),e}function he(e,t,r){var n=E(t.query),i={data:r,dependencies:V()},o=e.rootFields[n.operation];return ke(e=de(e,N(n,t.variables),K(t.query),o,o),o,q(n),r),i}function ke(e,t,r,n){var i=t===e.store.rootFields.query,o=!i&&!!e.store.rootNames[t],a=o||i?t:n.__typename;if(a){o||i||!t||ne(t,"__typename",a),r=ve(a,t||a,r,e);for(var u;u=r();){i=b(u);var s=_(u,e.variables),l=I(i,s),f=u.alias?u.alias.value:b(u),c=n[f];if("__typename"!==i){if(e.optimistic&&o){if(!(c=e.store.optimisticMutations[i]))continue;var d=e,p=a,v=l,y=i;d.parentTypeName=a,d.parentKey=p,d.parentFieldKey=v,d.fieldName=y,c=n[f]=ye(c(s||{},e.store,e))}u.selectionSet?t&&!o?(f=t+"."+l,ie(t||a,l,u=ge(e,q(u),ye(c),f))):ge(e,q(u),ye(c)):t&&!o&&ne(t||a,l,c),o&&(f=a,l=a+"."+l,d=i,(u=e).parentTypeName=a,u.parentKey=f,u.parentFieldKey=l,u.fieldName=d,l=e.store.updates[a][i])&&(n[i]=c,l(n,s||{},e.store,e))}}}}function ge(e,t,r,n){if(Array.isArray(r)){for(var i=Array(r.length),o=0,a=r.length;o<a;o++){var u=ge(e,t,r[o],n?n+"."+o:void 0);i[o]=u}return i}return null===r?null:(n=e.store.keyOfEntity(r)||n,ke(e,n,t,r),n||null)}function Oe(e){var t,r;this.keyOfField=I,e||(e={}),this.resolvers=e.resolvers||{},this.optimisticMutations=e.optimistic||{},this.keys=e.keys||{};var n="Query",i="Mutation",o="Subscription";if(e.schema){var a=this.schema=function(e){function t(e){switch(e.kind){case"OBJECT":case"INTERFACE":return{name:e.name,kind:e.kind,interfaces:i(e.interfaces||[]),fields:i(e.fields.map(r))};case"UNION":return{name:e.name,kind:e.kind,types:i(e.possibleTypes||[])}}}function r(e){return{name:e.name,type:e.type,args:i(e.args)}}e=e.__schema;for(var n={},i=F,o=0;o<e.types.length;o++){var a=e.types[o];if(a&&a.name){var u=t(a);u&&(n[a.name]=u)}}return{query:e.queryType?e.queryType.name:null,mutation:e.mutationType?e.mutationType.name:null,subscription:e.subscriptionType?e.subscriptionType.name:null,types:n,isSubType:function(e,t){var r=n[e],i=n[t];return!!(r&&i&&("UNION"===r.kind?r.types[t]:"OBJECT"!==r.kind&&"OBJECT"===i.kind?i.interfaces[e]:e===t))}}}(e.schema);n=a.query||n,i=a.mutation||i,o=a.subscription||o}this.updates=((t={})[i]=e.updates&&e.updates.Mutation||{},t[o]=e.updates&&e.updates.Subscription||{},t),this.rootFields={query:n,mutation:i,subscription:o},this.rootNames=((r={})[n]="query",r[i]="mutation",r[o]="subscription",r),e=n,this.data={defer:!1,gc:new Set,persist:new Set,queryRootKey:e,refCount:P(),refLock:P(),links:{optimistic:P(),base:new Map},records:{optimistic:P(),base:new Map},commutativeKeys:new Set,optimisticOrder:[],storage:null}}function be(e,t,r){return G("read",e.data,null),e=qe(e,t,r),Q(),e}function qe(e,t,r){var n=E(t.query),i=e.rootFields[n.operation],o=q(n);return r=r||{},r=i!==(e=de(e,N(n,t.variables),K(t.query),i,i)).store.rootFields.query?_e(e,i,o,r):we(e,i,o,r),{dependencies:V(),partial:void 0!==r&&e.partial,data:void 0===r?null:r}}function _e(e,t,r,n){if("string"!=typeof n.__typename)return n;t=ve(t,t,r,e),(r={}).__typename=n.__typename;for(var i;void 0!==(i=t());){var o=i.alias?i.alias.value:b(i),a=n[o];void 0!==i.selectionSet&&null!==a?(a=ye(a),r[o]=Ne(e,q(i),a)):r[o]=a}return r}function Ne(e,t,r){if(Array.isArray(r)){for(var n=Array(r.length),i=0,o=r.length;i<o;i++)n[i]=Ne(e,t,r[i]);return n}return null===r?null:null!==(n=e.store.keyOfEntity(r))?void 0===(e=we(e,n,t,{}))?null:e:_e(e,r.__typename,t,r)}function we(e,t,r,n,i){var o=e.store,a=t===o.rootFields.query,u=i&&o.keyOfEntity(i)||t;if("string"==typeof(t=a?t:te(u,"__typename")||i&&i.__typename)&&(!i||t===i.__typename)){r=ve(t,u,r,e);for(var s,l=!1,f=!1;void 0!==(s=r());){var c=b(s),d=_(s,e.variables),p=s.alias?s.alias.value:b(s),v=I(c,d),y=u+"."+v,m=te(u,v),h=i?i[c]:void 0,k=o.resolvers[t],g=void 0;if("__typename"===c)n[p]=t;else{if(void 0!==h&&void 0===s.selectionSet)g=h;else if(w(null!==R,"",2),"read"===R&&k&&"function"==typeof k[c]){v=u,h=y;var O=c;if((g=e).parentTypeName=t,g.parentKey=v,g.parentFieldKey=h,g.fieldName=O,void 0!==m&&(n[p]=m),g=k[c](n,d||{},o,e),void 0!==s.selectionSet&&(g=Ee(e,t,c,y,q(s),n[p]||{},g)),o.schema&&null===g&&!S(o.schema,t,c))return}else void 0===s.selectionSet?g=m:void 0!==h?g=Ee(e,t,c,y,q(s),n[p],h):void 0!==(d=re(u,v))?g=Ke(e,d,t,c,q(s),n[p]):"object"==typeof m&&null!==m&&(g=m);if(void 0===g&&o.schema&&S(o.schema,t,c))f=!0,n[p]=null;else{if(void 0===g)return;l=!0,n[p]=g}}}return f&&(e.partial=!0),a&&f&&!l?void 0:n}}function Ee(e,t,r,n,i,o,a){if(Array.isArray(a)){var u=e.store;u=!u.schema||L(u.schema,t,r);for(var s=Array(a.length),l=0,f=a.length;l<f;l++){var c=Ee(e,t,r,n+"."+l,i,null!=o?o[l]:void 0,a[l]);if(void 0===c&&!u)return;s[l]=void 0!==c?c:null}return s}return null==a?a:null===o?null:"string"==typeof a||"object"==typeof a&&"string"==typeof a.__typename?(t=o||{},"string"==typeof a?we(e,a,i,t):we(e,n,i,t,a)):void 0}function Ke(e,t,r,n,i,o){if(Array.isArray(t)){var a=e.store;a=a.schema&&L(a.schema,r,n);for(var u=Array(t.length),s=0,l=t.length;s<l;s++){var f=Ke(e,t[s],r,n,i,null!=o?o[s]:void 0);if(void 0===f&&!a)return;u[s]=void 0!==f?f:null}return u}return null===t||null===o?null:we(e,t,i,o||{})}function Te(e,t){return m(e.kind,e,O({},e.context,{meta:O({},e.context.meta,{cacheOutcome:t})}))}function Fe(e,t){return m(e.kind,e,O({},e.context,{requestPolicy:t}))}function xe(e){return c(e[0])}function Se(e,t){return e.push(t),e}function Le(e){return"query"===e.kind&&"network-only"!==e.context.requestPolicy}function Ae(e){return"query"!==e.kind||"network-only"===e.context.requestPolicy}function Ie(e){return"miss"!==e.outcome||"cache-only"===e.operation.context.requestPolicy}function Ce(d){return function(p){function v(e,t){var r=e.operation,n=e.error,i=e.extensions,o=r.key;if("mutation"===r.kind?(_(t,B.get(o)),B.delete(o)):oe(J.data,r.key),e.data){if(_(t,o=me(J,r,e.data,o).dependencies),o=be(J,r,e.data),e.data=o.data,"query"===r.kind){var a=o.dependencies;_(t,a)}}else G("read",J.data,r.key,void 0),Q();return a&&k(e.operation,a),{data:e.data,error:n,extensions:i,operation:r}}function h(e){var t=be(J,e),r=t.data?t.partial?"partial":"hit":"miss";return k(e,t.dependencies),{outcome:r,operation:e,data:t.data,dependencies:t.dependencies}}function k(e,t){for(var r in t)(W[r]||(W[r]=[])).push(e.key),z.set(e.key,e)}function g(e){if("query"===e.kind)oe(J.data,e.key);else if("teardown"===e.kind)z.delete(e.key),G("read",J.data,e.key,void 0),Q();else if("mutation"===e.kind&&"network-only"!==e.context.requestPolicy){var t=J;G("write",t.data,e.key,!0);var r=E(e.query),n=V(),i=t.rootFields[r.operation];w(i===t.rootFields.mutation,"",10),ke(t=de(t,N(r,e.variables),K(e.query),i,i,!0),i,q(r),{}),Q();e:{for(var o in n){r=!1;break e}r=!0}if(!r){for(var a in n)X[a]=!0;B.set(e.key,n),_(a=new Set,n),O(e,a)}}if(n=m,a=e.kind,r=e.key,i=y(e.query),e.variables)if(o=E(e.query),(t=e.variables)&&o.variableDefinitions){for(var u={},s=0,l=o.variableDefinitions.length;s<l;s++){var f=b(o.variableDefinitions[s].variable);u[f]=t[f]}o=u}else o=void 0;else o=e.variables;return n(a,{key:r,query:i,variables:o},e.context)}function O(e,t){t.forEach((function(t){if(t!==e.key){var r=z.get(t);if(r){z.delete(t);var n="cache-first";H.has(t)&&(H.delete(t),n="cache-and-network"),j.reexecuteOperation(Fe(r,n))}}}))}function _(e,t){if(t)for(var r in t)if(t=W[r]){W[r]=[];for(var n=0,i=t.length;n<i;n++)e.add(t[n])}}function T(e){for(var t in e)if(X[t])return!0;return!1}function F(e){return Te(e.operation,"miss")}function x(e){return"miss"===e.outcome&&"cache-only"!==e.operation.context.requestPolicy&&!T(e.dependencies)}function S(e){var t=e.operation,r=e.outcome,n=e.dependencies;return e={operation:Te(t,r),data:e.data,error:e.error,extensions:e.extensions},("cache-and-network"===t.context.requestPolicy||"cache-first"===t.context.requestPolicy&&"partial"===r)&&(e.stale=!0,T(n)?"cache-and-network"===t.context.requestPolicy&&H.add(t.key):j.reexecuteOperation(Fe(t,"network-only"))),e}function L(e){var t=new Set,r=v(e,t);return O(e.operation,t),r}function A(e){return!B.has(e.operation.key)}function I(e){if(U.push(e)<B.size)return a;for(var t=0;t<U.length;t++)oe(J.data,U[t].operation.key);for(var r in X)delete X[r];t=[],r=new Set;for(var n;n=U.shift();)t.push(v(n,r));return O(e.operation,r),c(t)}function C(e){return B.has(e.operation.key)}var M,R=p.forward,j=p.client,J=new Oe(d);d&&d.storage&&(M=d.storage.readData().then((function(e){var t=J.data,r=d.storage;for(var n in G("write",t,null),e){var i=e[n];if(void 0!==i){var o=D(n),a=o.entityKey;o=o.fieldKey,":"===i[0]?ie(a,o,JSON.parse(i.slice(1))):ne(a,o,JSON.parse(i))}}Q(),t.storage=r})));var B=new Map,U=[],z=new Map,X=P(),H=new Set,W=P();return function(c){c=e(c);var d=M?t(xe)(r(1)(n(i(Se,[])(c),o(M)))):a;d=e(u([d,c])),c=e(s(h)(l(Le)(d))),d=l(Ae)(d);var p=s(F)(l(x)(c));return c=s(S)(l(Ie)(c)),p=e(R(s(g)(f([d,p])))),d=s(L)(l(A)(p)),p=t(I)(l(C)(p)),f([d,p,c])}}}function Me(e){return e&&e.networkError&&!e.response&&("undefined"!=typeof navigator&&!1===navigator.onLine||/request failed|failed to fetch|network\s?error/i.test(e.networkError.message))}function De(t){return function(r){function n(e){var t;if(t="mutation"===e.operation.kind&&Me(e.error))e:{t=y;var r,n=e.operation,i=n.variables||P(),o=K(n.query);for(n=[].concat(q(E(n.query)));r=n.pop();)if(T(r,i))if(r.kind!==h.FIELD)(r=r.kind===h.INLINE_FRAGMENT?r:o[b(r)])&&n.push.apply(n,q(r));else if(t[b(r)]){t=!0;break e}t=!1}return!t||(k.push(e.operation),O(),!1)}function i(e){return"query"!==e.operation.kind||!Me(e.error)||(p(Fe(e.operation,"cache-only")),k.push(e.operation),!1)}var o=t.storage;if(o&&o.onOnline&&o.readMetadata&&o.writeMetadata){var a=r.forward,u=r.client;r=r.dispatchDebug;var s=d(),c=s.source,p=s.next,y=t.optimistic||{},k=[],O=function(){for(var e=[],t=0;t<k.length;t++){var r=k[t];"mutation"===r.kind&&e.push({query:g(r.query),variables:r.variables})}o.writeMetadata(e)},_=!1,N=function(){if(!_){_=!0;for(var e=0;e<k.length;e++){var t=k[e];"mutation"===t.kind&&p(m("teardown",t))}for(e=0;e<k.length;e++)u.reexecuteOperation(k[e]);k.length=0,_=!1,O()}};o.onOnline(N),o.readMetadata().then((function(e){if(e){for(var t=0;t<e.length;t++)k.push(u.createRequestOperation("mutation",v(e[t].query,e[t].variables)));N()}}));var w=Ce(t)({client:u,dispatchDebug:r,forward:function(e){return l(n)(a(e))}});return function(t){return t=e(t),t=f([c,t]),l(i)(w(t))}}return Ce(t)(r)}}Oe.prototype.keyOfEntity=function(e){var t,r=e.__typename,n=e.id,i=e._id;return r?void 0!==this.rootNames[r]?r:(this.keys[r]?t=this.keys[r](e):null!=n?t=""+n:null!=i&&(t=""+i),t?r+":"+t:null):null},Oe.prototype.resolveFieldByKey=function(e,t){if(null===(e=null!==e&&"string"!=typeof e?this.keyOfEntity(e):e))return null;var r=te(e,t);return void 0!==r?r:(t=re(e,t))?t:null},Oe.prototype.resolve=function(e,t,r){return this.resolveFieldByKey(e,I(t,r))},Oe.prototype.invalidate=function(e,t,r){w(e="string"==typeof e?e:this.keyOfEntity(e),"",19),t=t?[{fieldKey:I(t,r)}]:ce(e),r=0;for(var n=t.length;r<n;r++){var i=t[r].fieldKey;void 0!==re(e,i)?ie(e,i,void 0):ne(e,i,void 0)}},Oe.prototype.inspectFields=function(e){return null!==(e=null!==e&&"string"!=typeof e?this.keyOfEntity(e):e)?ce(e):[]},Oe.prototype.updateQuery=function(e,t){(e=v(e.query,e.variables)).query=y(e.query),null!==(t=t(this.readQuery(e)))&&he(this,e,t)},Oe.prototype.readQuery=function(e){return(e=v(e.query,e.variables)).query=y(e.query),qe(this,e).data},Oe.prototype.readFragment=function(e,t,r){e=K(e=y(e));var n=Object.keys(e);if(void 0===(n=e[n[0]]))r=null;else{var i=n.typeCondition.name.value;"string"==typeof t||t.__typename||(t.__typename=i),r=(t="string"!=typeof t?this.keyOfEntity(O({},{__typename:i},t)):t)&&we(r=de(this,r||{},e,i,t),t,q(n),{})||null}return r},Oe.prototype.writeFragment=function(e,t,r){e=K(e=y(e));var n=Object.keys(e);if(void 0!==(n=e[n[0]])){var i=n.typeCondition.name.value;t=O({},{__typename:i},t);var o=this.keyOfEntity(t);o&&ke(r=de(this,r||{},e,i,o),o,q(n),t)}};export{Oe as Store,Ce as cacheExchange,De as offlineExchange,be as query,me as write};
//# sourceMappingURL=urql-exchange-graphcache.min.mjs.map
