import{stringifyVariables as e}from"@urql/core";import{_ as r}from"./08e6d3e1.min.mjs";var n={__typename:"PageInfo",endCursor:null,startCursor:null,hasNextPage:!1,hasPreviousPage:!1};function t(e){return"string"==typeof e?e:null}function o(e,r,n){for(var t=new Set,o=0,a=r.length;o<a;o++){var s=e.resolve(r[o],"node");"string"==typeof s&&t.add(s)}for(r=r.slice(),o=0,a=n.length;o<a;o++){var f=e.resolve(s=n[o],"node");"string"!=typeof f||t.has(f)||(t.add(f),r.push(s))}return r}function a(e,r){for(var n=new Set,t=0,o=e.length;t<o;t++){var a=e[t];"string"==typeof a&&n.add(a)}for(e=e.slice(),t=0,o=r.length;t<o;t++)"string"!=typeof(a=r[t])||n.has(a)||(n.add(a),e.push(a));return e}function s(r,n){for(var t in n)if("first"!==t&&"last"!==t&&"after"!==t&&"before"!==t){if(!(t in r))return!1;var o=r[t],a=n[t];if(typeof o!=typeof a||"object"!=typeof o?o!==a:e(o)!==e(a))return!1}for(var s in r)if("first"!==s&&"last"!==s&&"after"!==s&&"before"!==s&&!(s in n))return!1;return!0}function f(e,r,o){var a=t(e.resolveFieldByKey(r,o));if(!a)return null;o=e.resolve(a,"__typename"),r=e.resolve(a,"edges")||[];var s=e.resolve(a,"nodes")||[];if("string"!=typeof o)return null;o={__typename:o,edges:r,nodes:s,pageInfo:n};var f=e.resolve(a,"pageInfo");if("string"==typeof f){a=t(e.resolve(f,"__typename")),s=t(e.resolve(f,"endCursor"));var i=t(e.resolve(f,"startCursor")),u=e.resolve(f,"hasNextPage");f=e.resolve(f,"hasPreviousPage"),null===(a=o.pageInfo={__typename:"string"==typeof a?a:"PageInfo",hasNextPage:"boolean"==typeof u?u:!!s,hasPreviousPage:"boolean"==typeof f?f:!!i,endCursor:s,startCursor:i}).endCursor&&(s=r[r.length-1])&&(s=e.resolve(s,"cursor"),a.endCursor=t(s)),null===a.startCursor&&(r=r[0])&&(e=e.resolve(r,"cursor"),a.startCursor=t(e))}return o}function i(e){void 0===e&&(e={});var i=e.mergeMode||"inwards";return function(e,u,l,d){var g=d.fieldName,p=l.inspectFields(e=d.parentKey).filter((function(e){return e.fieldName===g})),v=p.length;if(0!==v){for(var y=null,m=[],c=[],h=[],_=[],P=r({},n),C=0;C<v;C++){var I=p[C],b=I.fieldKey;if(null!==(I=I.arguments)&&s(u,I)&&null!==(b=f(l,e,b))){if("inwards"===i&&"number"==typeof I.last&&"number"==typeof I.first){P=b.edges.slice(0,I.first+1);var N=b.edges.slice(-I.last),x=b.nodes.slice(0,I.first+1);I=b.nodes.slice(-I.last),m=o(l,m,P),c=o(l,N,c),h=a(h,x),_=a(I,_),P=b.pageInfo}else I.after?(m=o(l,m,b.edges),h=a(h,b.nodes),P.endCursor=b.pageInfo.endCursor,P.hasNextPage=b.pageInfo.hasNextPage):I.before?(c=o(l,b.edges,c),_=a(b.nodes,_),P.startCursor=b.pageInfo.startCursor,P.hasPreviousPage=b.pageInfo.hasPreviousPage):("number"==typeof I.last?(c=o(l,c,b.edges),_=a(_,b.nodes)):(m=o(l,m,b.edges),h=a(h,b.nodes)),P=b.pageInfo);b.pageInfo.__typename!==P.__typename&&(P.__typename=b.pageInfo.__typename),y!==b.__typename&&(y=b.__typename)}}if("string"==typeof y){if(!t(l.resolve(e,g,u))){if(!d.store.schema)return;d.partial=!0}return{__typename:y,edges:"inwards"===i?o(l,m,c):o(l,c,m),nodes:"inwards"===i?a(h,_):a(_,h),pageInfo:{__typename:P.__typename,endCursor:P.endCursor,startCursor:P.startCursor,hasNextPage:P.hasNextPage,hasPreviousPage:P.hasPreviousPage}}}}}}function u(r){function n(r,n){for(var a in n)if(a!==t&&a!==o){if(!(a in r))return!1;var s=r[a],f=n[a];if(typeof s!=typeof f||"object"!=typeof s?s!==f:e(s)!==e(f))return!1}for(var i in r)if(i!==t&&i!==o&&!(i in n))return!1;return!0}void 0===r&&(r={});var t=r.offsetArgument;void 0===t&&(t="skip");var o=r.limitArgument;void 0===o&&(o="limit");var a=r.mergeMode;return void 0===a&&(a="after"),function(e,r,o,s){var f=s.fieldName,i=o.inspectFields(e=s.parentKey).filter((function(e){return e.fieldName===f})),u=i.length;if(0!==u){for(var l=new Set,d=[],g=null,p=0;p<u;p++){var v=i[p],y=v.fieldKey;if(null!==(v=v.arguments)&&n(r,v)&&(y=o.resolveFieldByKey(e,y),v=v[t],null!==y&&0!==y.length&&"number"==typeof v)){for(var m=[],c=0;c<y.length;c++){var h=y[c];l.has(h)||(m.push(h),l.add(h))}d=(!g||v>g)==("after"===a)?d.concat(m):m.concat(d),g=v}}if(o.resolve(e,f,r))return d;if(s.store.schema)return s.partial=!0,d}}}export{i as relayPagination,u as simplePagination};
//# sourceMappingURL=urql-exchange-graphcache-extras.min.mjs.map
